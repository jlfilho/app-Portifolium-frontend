/* ========================================
   üé® VARI√ÅVEIS E PALETA - MINIMAL TECH LIGHT+
   ======================================== */
:host {
  --gradient-primary: linear-gradient(90deg, #3B82F6, #8B5CF6);
  --gradient-accent: linear-gradient(90deg, #6366F1, #8B5CF6);
  --bg-actions: #F8FAFC;
  --primary-color: #3B82F6;
  --secondary-color: #8B5CF6;
  --accent-color: #6366F1;
  --success-color: #10B981;
  --error-color: #EF4444;
  --warning-color: #F59E0B;
  --text-dark: #0F172A;
  --text-medium: #475569;
  --text-light: #64748B;
  --bg-hover: rgba(59, 130, 246, 0.1);
  --border-color: #CBD5E1;
}

.form-container {
  padding: 24px;
  max-width: 700px;
  margin: 0 auto;
}

/* 1) O card precisa controlar tudo */
.form-card {
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  padding: 0;                 /* ‚¨Ö zera o padding do card */
  overflow: hidden;           /* ‚¨Ö garante que header/rodap√© respeitem o raio */
}

mat-card-header {
  background: var(--gradient-primary);
  color: #fff;
  padding: 24px;
  box-shadow: inset 0 -1px 0 rgba(255,255,255,0.12);
}

.header-content {
  display: flex;
  align-items: center;
  gap: 16px;
  width: 100%;
}

.header-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  backdrop-filter: blur(10px);
}

.header-icon mat-icon {
  font-size: 32px;
  width: 32px;
  height: 32px;
  color: white;
}

mat-card-title {
  color: white !important;
  font-size: 24px;
  font-weight: 600;
  margin-bottom: 4px;
}

mat-card-subtitle {
  color: rgba(255, 255, 255, 0.9) !important;
  font-size: 14px;
}

/* 3) Conte√∫do e rodap√© com paddings consistentes */
mat-card-content {
  padding: 24px;              /* ‚¨Ö mant√©m o respiro do conte√∫do */
  background: #fff;
}

/* Loading */
.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 48px;
  gap: 16px;
}

.loading-container p {
  color: var(--text-medium);
  font-size: 14px;
}

/* Form Layout */
form {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.form-row {
  display: flex;
  gap: 16px;
}

.full-width {
  width: 100%;
}

/* Form Fields */
mat-form-field {
  width: 100%;
}

mat-form-field mat-icon[matPrefix] {
  margin-right: 8px;
  color: var(--primary-color);
}

/* Toggle */
.toggle-container {
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 20px;
  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
  border-radius: 12px;
  gap: 12px;
  border: 2px solid #e0e7ff;
  width: 100%;
}

mat-slide-toggle {
  display: flex;
  align-items: center;
}

.toggle-content {
  display: flex;
  align-items: center;
  gap: 8px;
}

.toggle-content mat-icon {
  color: var(--primary-color);
}

.toggle-label {
  font-weight: 500;
  font-size: 16px;
  color: var(--text-dark);
}

.toggle-hint {
  font-size: 12px;
  color: var(--text-medium);
  margin-left: 48px;
  font-style: italic;
}

/* Info Box - Nova Paleta */
.info-box {
  display: flex;
  align-items: start;
  gap: 12px;
  padding: 16px;
  background: rgba(167, 139, 250, 0.1);
  border-left: 4px solid #A78BFA;
  border-radius: 4px;
}

.info-box mat-icon {
  color: var(--secondary-color);
  flex-shrink: 0;
}

.info-box div {
  flex: 1;
  font-size: 14px;
  color: var(--text-dark);
  line-height: 1.5;
}

/* Actions */
mat-card-actions {
  padding: 16px 24px;         /* ‚¨Ö mesmo alinhamento lateral do content */
  background: var(--bg-actions);
  border-top: 1px solid #e9ecef;
  display: flex;
  gap: 8px;
  margin: 0;                  /* ‚¨Ö nada de margens negativas */
  border-radius: 0;           /* ‚¨Ö quem tem raio √© o card, n√£o o actions */
}

mat-card-actions button {
  display: flex;
  align-items: center;
  gap: 8px;
}

mat-card-actions button mat-icon {
  font-size: 20px;
  width: 20px;
  height: 20px;
}

/* Responsive */
@media (max-width: 768px) {
  .form-container {
    padding: 16px;
  }

  .header-content {
    flex-direction: column;
    text-align: center;
  }

  mat-card-actions {
    flex-direction: column;
  }

  mat-card-actions button {
    width: 100%;
  }

  .toggle-hint {
    margin-left: 0;
    text-align: center;
  }
}

/* Anima√ß√µes */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.form-card {
  animation: fadeIn 0.3s ease-out;
}

/* Melhorias visuais */
mat-form-field.mat-form-field-invalid mat-icon[matPrefix] {
  color: var(--error-color);
}

button:hover:not(:disabled) {
  transform: translateY(-2px);
  transition: transform 0.2s ease;
}

button:active:not(:disabled) {
  transform: translateY(0);
}

/* Focus states */
mat-form-field.mat-focused mat-icon[matPrefix] {
  color: var(--primary-color);
  transform: scale(1.1);
  transition: transform 0.2s ease;
}

/* Primary button - Nova Paleta */
button[color="primary"] {
  background: var(--gradient-primary) !important;
}

button[color="primary"]:hover:not(:disabled) {
  background: var(--gradient-accent) !important;
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
}

/* ========================================
   üéØ OVERRIDES DO ANGULAR MATERIAL
   ======================================== */

/* Labels dos campos - TODOS os n√≠veis */
::ng-deep mat-form-field .mat-mdc-form-field-label,
::ng-deep mat-form-field .mat-mdc-floating-label,
::ng-deep mat-form-field .mdc-floating-label,
::ng-deep mat-form-field label {
  color: var(--text-medium) !important;
}

/* Labels quando focado - TODOS os n√≠veis */
::ng-deep mat-form-field.mat-focused .mat-mdc-form-field-label,
::ng-deep mat-form-field.mat-focused .mat-mdc-floating-label,
::ng-deep mat-form-field.mat-focused .mdc-floating-label,
::ng-deep mat-form-field.mat-focused label,
::ng-deep mat-form-field.mat-form-field-should-float .mat-mdc-floating-label {
  color: var(--primary-color) !important;
}

/* Input text */
::ng-deep mat-form-field .mat-mdc-input-element {
  color: var(--text-dark) !important;
}

/* Textarea */
::ng-deep mat-form-field textarea.mat-mdc-input-element {
  color: var(--text-dark) !important;
}

/* Placeholder */
::ng-deep mat-form-field .mat-mdc-input-element::placeholder {
  color: var(--text-light) !important;
  opacity: 0.6;
}

/* Select */
::ng-deep mat-select .mat-mdc-select-value,
::ng-deep mat-select .mat-mdc-select-value-text {
  color: var(--text-dark) !important;
}

::ng-deep mat-select .mat-mdc-select-placeholder {
  color: var(--text-light) !important;
}

::ng-deep mat-select .mat-mdc-select-arrow {
  color: var(--text-medium) !important;
}

::ng-deep mat-select.mat-focused .mat-mdc-select-arrow {
  color: var(--primary-color) !important;
}

/* Checkbox */
::ng-deep mat-checkbox .mdc-form-field {
  color: var(--text-dark) !important;
}

::ng-deep mat-checkbox .mdc-label {
  color: var(--text-dark) !important;
}

/* Slide toggle */
::ng-deep mat-slide-toggle .mdc-label {
  color: var(--text-dark) !important;
}

/* Hint text */
::ng-deep mat-form-field .mat-mdc-form-field-hint {
  color: var(--text-medium) !important;
}

/* Error text */
::ng-deep mat-form-field .mat-mdc-form-field-error {
  color: var(--error-color) !important;
}

/* Icons dentro dos campos */
::ng-deep mat-form-field .mat-icon {
  color: var(--text-medium) !important;
}

::ng-deep mat-form-field.mat-focused .mat-icon {
  color: var(--primary-color) !important;
}

::ng-deep mat-form-field.mat-form-field-invalid .mat-icon {
  color: var(--error-color) !important;
}

/* Divider */
::ng-deep mat-divider {
  border-top-color: var(--border-color) !important;
}

/* Info box text */
.info-box {
  color: var(--text-dark) !important;
}

.info-box mat-icon {
  color: var(--secondary-color) !important;
}

.info-box div {
  color: var(--text-dark) !important;
}

.info-box strong {
  color: var(--text-dark) !important;
}

/* ========================================
   üîß OVERRIDES AGRESSIVOS - BORDAS E OUTLINES
   ======================================== */

/* Bordas do outline (normal) */
::ng-deep mat-form-field.mat-form-field-appearance-outline .mat-mdc-notched-outline .mat-mdc-notched-outline-leading,
::ng-deep mat-form-field.mat-form-field-appearance-outline .mat-mdc-notched-outline .mat-mdc-notched-outline-trailing,
::ng-deep mat-form-field.mat-form-field-appearance-outline .mat-mdc-notched-outline .mat-mdc-notched-outline-notch {
  border-color: var(--border-color) !important;
}

/* Bordas do outline (focado) */
::ng-deep mat-form-field.mat-focused.mat-form-field-appearance-outline .mat-mdc-notched-outline .mat-mdc-notched-outline-leading,
::ng-deep mat-form-field.mat-focused.mat-form-field-appearance-outline .mat-mdc-notched-outline .mat-mdc-notched-outline-trailing,
::ng-deep mat-form-field.mat-focused.mat-form-field-appearance-outline .mat-mdc-notched-outline .mat-mdc-notched-outline-notch {
  border-color: var(--primary-color) !important;
}

/* Bordas do outline (erro) */
::ng-deep mat-form-field.mat-form-field-invalid.mat-form-field-appearance-outline .mat-mdc-notched-outline .mat-mdc-notched-outline-leading,
::ng-deep mat-form-field.mat-form-field-invalid.mat-form-field-appearance-outline .mat-mdc-notched-outline .mat-mdc-notched-outline-trailing,
::ng-deep mat-form-field.mat-form-field-invalid.mat-form-field-appearance-outline .mat-mdc-notched-outline .mat-mdc-notched-outline-notch {
  border-color: var(--error-color) !important;
}

/* Thick outline (linha grossa do foco) */
::ng-deep mat-form-field.mat-focused .mdc-notched-outline__leading,
::ng-deep mat-form-field.mat-focused .mdc-notched-outline__trailing,
::ng-deep mat-form-field.mat-focused .mdc-notched-outline__notch {
  border-color: var(--primary-color) !important;
  border-width: 2px !important;
}

/* ========================================
   üéØ SLIDE TOGGLE - REMOVER ROSA
   ======================================== */

/* Toggle quando ATIVO (checked) - TODOS os seletores */
::ng-deep mat-slide-toggle.mat-checked .mdc-switch__track,
::ng-deep mat-slide-toggle.mat-mdc-slide-toggle-checked .mdc-switch__track,
::ng-deep mat-slide-toggle[color="primary"].mat-checked .mdc-switch__track {
  background-color: var(--primary-color) !important;
  opacity: 0.5 !important;
  border: none !important;
}

::ng-deep mat-slide-toggle.mat-checked .mdc-switch__handle::after,
::ng-deep mat-slide-toggle.mat-mdc-slide-toggle-checked .mdc-switch__handle::after,
::ng-deep mat-slide-toggle[color="primary"].mat-checked .mdc-switch__handle::after {
  background-color: var(--primary-color) !important;
}

::ng-deep mat-slide-toggle.mat-checked .mdc-switch__icons,
::ng-deep mat-slide-toggle.mat-mdc-slide-toggle-checked .mdc-switch__icons,
::ng-deep mat-slide-toggle[color="primary"].mat-checked .mdc-switch__icons {
  fill: white !important;
}

/* Handle (bolinha) quando ativo */
::ng-deep mat-slide-toggle.mat-checked .mdc-switch__handle,
::ng-deep mat-slide-toggle.mat-mdc-slide-toggle-checked .mdc-switch__handle,
::ng-deep mat-slide-toggle[color="primary"].mat-checked .mdc-switch__handle {
  background-color: var(--primary-color) !important;
}

/* Shadow do handle */
::ng-deep mat-slide-toggle.mat-checked .mdc-switch__shadow,
::ng-deep mat-slide-toggle.mat-mdc-slide-toggle-checked .mdc-switch__shadow {
  box-shadow: 0 2px 4px rgba(59, 130, 246, 0.4) !important;
}

/* Ripple (efeito de ondula√ß√£o) */
::ng-deep mat-slide-toggle .mdc-switch__ripple::before,
::ng-deep mat-slide-toggle .mdc-switch__ripple::after {
  background-color: var(--primary-color) !important;
}

/* Label do toggle */
::ng-deep mat-slide-toggle .mdc-label,
::ng-deep mat-slide-toggle label {
  color: var(--text-dark) !important;
}

/* Toggle quando INATIVO (unchecked) */
::ng-deep mat-slide-toggle:not(.mat-checked) .mdc-switch__track {
  background-color: #E5E7EB !important;
  opacity: 1 !important;
}

::ng-deep mat-slide-toggle:not(.mat-checked) .mdc-switch__handle::after {
  background-color: #9CA3AF !important;
}

::ng-deep mat-slide-toggle:not(.mat-checked) .mdc-switch__handle {
  background-color: #9CA3AF !important;
}

/* Remover qualquer cor roxa/rosa */
::ng-deep mat-form-field .mdc-text-field--focused .mdc-floating-label,
::ng-deep mat-form-field .mdc-text-field--focused .mdc-notched-outline__leading,
::ng-deep mat-form-field .mdc-text-field--focused .mdc-notched-outline__notch,
::ng-deep mat-form-field .mdc-text-field--focused .mdc-notched-outline__trailing {
  color: var(--primary-color) !important;
  border-color: var(--primary-color) !important;
}

/* For√ßar cor do hint */
::ng-deep .mat-mdc-form-field-hint-wrapper,
::ng-deep .mat-mdc-form-field-hint-spacer {
  color: var(--text-medium) !important;
}

::ng-deep mat-hint {
  color: var(--text-medium) !important;
}

/* For√ßar cor dos bot√µes */
::ng-deep button mat-icon {
  color: inherit !important;
}

/* ========================================
   üéØ OVERRIDES DOS BOT√ïES - REMOVER ROSA
   ======================================== */

/* Bot√£o prim√°rio (mat-raised-button primary) */
::ng-deep button[color="primary"],
::ng-deep button.mat-primary,
::ng-deep .mat-mdc-raised-button.mat-primary {
  background: var(--gradient-primary) !important;
  color: white !important;
  border: none !important;
}

::ng-deep button[color="primary"] mat-icon,
::ng-deep button.mat-primary mat-icon,
::ng-deep .mat-mdc-raised-button.mat-primary mat-icon {
  color: white !important;
}

::ng-deep button[color="primary"]:hover:not([disabled]),
::ng-deep button.mat-primary:hover:not([disabled]),
::ng-deep .mat-mdc-raised-button.mat-primary:hover:not([disabled]) {
  background: var(--gradient-accent) !important;
  box-shadow: var(--shadow-primary) !important;
}

/* Bot√µes secund√°rios (mat-button) */
::ng-deep mat-card-actions button:not([color="primary"]),
::ng-deep mat-card-actions .mat-mdc-button:not(.mat-primary) {
  color: var(--text-dark) !important;
}

::ng-deep mat-card-actions button:not([color="primary"]) mat-icon,
::ng-deep mat-card-actions .mat-mdc-button:not(.mat-primary) mat-icon {
  color: var(--text-medium) !important;
}

::ng-deep mat-card-actions button:not([color="primary"]):hover:not([disabled]),
::ng-deep mat-card-actions .mat-mdc-button:not(.mat-primary):hover:not([disabled]) {
  background-color: var(--bg-hover) !important;
  color: var(--primary-color) !important;
}

::ng-deep mat-card-actions button:not([color="primary"]):hover:not([disabled]) mat-icon,
::ng-deep mat-card-actions .mat-mdc-button:not(.mat-primary):hover:not([disabled]) mat-icon {
  color: var(--primary-color) !important;
}

/* Remover qualquer cor rosa/roxa dos bot√µes */
::ng-deep button .mat-ripple-element {
  background-color: rgba(59, 130, 246, 0.1) !important;
}

::ng-deep button[color="primary"] .mat-ripple-element {
  background-color: rgba(255, 255, 255, 0.2) !important;
}

/* Text nos bot√µes */
::ng-deep button .mdc-button__label,
::ng-deep button .mat-mdc-button-touch-target {
  color: inherit !important;
}
